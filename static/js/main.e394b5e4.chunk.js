(this["webpackJsonpmini-paint"]=this["webpackJsonpmini-paint"]||[]).push([[0],{235:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(21),i=n.n(c),o=n(18),s="SET_LINE_WEIGHT",u="SET_LINE_COLOR",l="SET_INSTRUMENT",d="SET_CANVAS_SIZE",b="SET_MOUSE_DOWN_POSITION",j="SET_MAIN_CTX",_="SET_SUB_CTX",f="SET_DATA_URL",p="UPLOAD_IMAGE_SUCCEEDED",O="UPLOAD_IMAGE_FAILED",m="CREATE_USER_WITH_E_MAIL",g="CREATE_USER_WITH_E_MAIL_SUCCEEDED",h="CREATE_USER_WITH_E_MAIL_FAILED",x="SIGN_IN_WITH_E_MAIL",v="SIGN_IN_WITH_E_MAIL_SUCCEEDED",w="SIGN_IN_WITH_E_MAIL_FAILED",N="SIGN_OUT",E="CHECK_USER_AFTORIZATION",y="RESET_ERROR_MESSAGE",k="SET_LOCAL_USER_ERROR_MESSAGE",C="GET_IMAGES_FROM_DB",S="GET_IMAGES_FROM_DB_SUCCEEDED",I="GET_IMAGES_FROM_DB_FAILED",P="GET_USER_NAME",R="DEL_CLICKED",D="DEL_USER_IMAGE_FROM_DB",L="DEL_USER_IMAGE_FROM_DB_SUCCEEDED",A="DEL_USER_IMAGE_FROM_DB_FAILED",T=function(e){return{type:g,payload:e}},M=function(e){return{type:v,payload:e}},U=n(99),W=n.n(U),F=n(78),G=n(6),z=n(91),B=n(280),H=n(285),X=n(37),Y=n.n(X),J=n(45),V=n(33),q=n(286),K=n(4),Z={fadeIn:{animation:"x 1s",animationName:V.a.keyframes(J.fadeIn,"fadeIn")}},Q=function(){var e=Object(r.useState)({email:"",password:"",confirmPassword:""}),t=Object(z.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!0),i=Object(z.a)(c,2),s=i[0],u=i[1],l=Object(o.b)(),d=function(e){a((function(t){return Object(G.a)(Object(G.a)({},t),{},Object(F.a)({},e.target.name,e.target.value))}))},b=Object(o.c)((function(e){return e.authReducer.errorMessage})),j=function(e){l(function(e){return{type:x,payload:e}}(e))},_=function(e){l(function(e){return{type:m,payload:e}}(e))},f=function(){l({type:y})},p=function(e){l(function(e){return{type:k,error:e}}(e))};return Object(K.jsx)(V.a.StyleRoot,{children:Object(K.jsxs)("div",{className:Y.a.wrapper,style:Z.fadeIn,children:[Object(K.jsxs)("div",{className:Y.a.form_wrapper,children:[b?Object(K.jsx)(q.a,{className:Y.a.alert,severity:"error",children:b}):null,Object(K.jsx)("h3",{className:Y.a.header,children:"Log in"}),Object(K.jsxs)("form",{className:Y.a.form,children:[Object(K.jsx)(H.a,{onChange:d,onFocus:f,className:Y.a.login,variant:"outlined",id:"email",label:"Email Address",name:"email",fullWidth:!0,margin:"dense",value:n.email}),Object(K.jsx)(H.a,{onChange:d,onFocus:f,className:Y.a.password,variant:"outlined",name:"password",label:"Password",type:"password",id:"password",fullWidth:!0,margin:"dense",value:n.password}),s?null:Object(K.jsx)(H.a,{onChange:d,onFocus:f,className:Y.a.password,variant:"outlined",name:"confirmPassword",label:"Confirm password",type:"password",id:"confirm_password",fullWidth:!0,margin:"dense",value:n.confirmPassword}),Object(K.jsx)(B.a,{onClick:function(e){switch(s){case!0:0!==n.email.length&&0!==n.password.length&&j(n);break;case!1:0!==n.email.length&&0!==n.password.length&&0!==n.confirmPassword.length&&n.password===n.confirmPassword?_(n):p("Passwords must be at least 6 characters long and be the same")}},className:Y.a.button,variant:"contained",color:"primary",children:s?"Sign in":"Create login"})]})]}),Object(K.jsx)("p",{className:Y.a.text,children:s?"or you can create new account":"or you can use your account"}),Object(K.jsx)(B.a,{onClick:function(){return u(!s)},style:{background:"#1cb43d"},variant:"contained",children:s?"Create login":"Sign in"})]})})},$=n(26),ee=n(48),te=n.n(ee),ne=function(e){return{type:S,payload:e}},re=n(289),ae={fadeIn:{animation:"x 1s",animationName:V.a.keyframes(J.fadeIn,"fadeIn")}},ce=function(e){e.signOut;var t=Object(o.b)(),n=function(){return t({type:C})},a=Object(o.c)((function(e){return e.homeReducer.imagesData}));return Object(r.useEffect)((function(){n()}),[]),Object(K.jsx)(V.a.StyleRoot,{children:Object(K.jsx)("div",{className:te.a.wrapper,style:ae.fadeIn,children:Object.keys(a).map((function(e,t){return Object(K.jsxs)("div",{className:te.a.user_container,children:[Object(K.jsxs)("div",{className:te.a.name_container,children:[Object(K.jsx)(re.a,{alt:"Remy Sharp",src:"/static/images/avatar/1.jpg",children:e.substr(0,1).toUpperCase()}),Object(K.jsx)("h3",{className:te.a.user_name,children:e})]}),Object(K.jsx)("div",{className:te.a.container,children:a[e].map((function(e,t){return Object(K.jsx)("div",{className:te.a.imgWrapper,children:Object(K.jsx)("img",{className:te.a.img,src:e,alt:e})},t)}))})]},t)}))})})},ie=n(49),oe=n.n(ie),se=n(54),ue=n(281),le=n(288),de=n(282),be=function(e){var t=Object(o.b)(),n=Object(ue.a)((function(e){return Object(le.a)({toolBar:{background:"none",margin:"5px 0%",padding:"5px",display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gridGap:"10px"},nav__link:{background:"#878F93",margin:"0 1%",color:"#281D11"},nav__link_logOut:{background:"#0B1519",color:"#fff",gridColumn:"11/13"}})}))();return Object(K.jsx)("div",{className:oe.a.wrapper,children:Object(K.jsxs)(de.a,{position:"static",className:n.toolBar,children:[Object(K.jsx)(B.a,{className:n.nav__link,children:Object(K.jsx)(se.b,{to:"/ ",activeClassName:oe.a.activeNav__link,className:oe.a.nav__link,children:"Home"})}),Object(K.jsx)(B.a,{className:n.nav__link,children:Object(K.jsx)(se.b,{to:"/editor",activeClassName:oe.a.activeNav__link,className:oe.a.nav__link,children:"Editor"})}),Object(K.jsx)(B.a,{className:n.nav__link,children:Object(K.jsx)(se.b,{to:"/profile",activeClassName:oe.a.activeNav__link,className:oe.a.nav__link,children:"Profile"})}),Object(K.jsx)(B.a,{className:n.nav__link_logOut,onClick:function(){t({type:N})},children:"Log out"})]})})},je=n(35),_e=n.n(je),fe=n(75),pe=n.n(fe),Oe=function(e){return{type:p,payload:e}},me=function(e){return{type:O,payload:e}},ge=n(283),he=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null),n=Object(r.useRef)(null),a=Object(o.b)(),c=function(e){a(function(e){return{type:d,windowsSize:e}}(e))},i=function(e){a(function(e){return{type:b,mouseDownPosition:e}}(e))},s=function(e){a(function(e){return{type:j,context:e}}(e))},u=function(e){a(function(e){return{type:_,context:e}}(e))},l=Object(o.c)((function(e){return e.editorReducer.lineColor})),f=Object(o.c)((function(e){return e.editorReducer.lineWeight})),p=Object(o.c)((function(e){return e.editorReducer.instrumentName})),O=Object(o.c)((function(e){return e.editorReducer.canvasSize})),m=Object(o.c)((function(e){return e.editorReducer.mouseDownPosition})),g=Object(o.c)((function(e){return e.editorReducer.mainCtx})),h=Object(o.c)((function(e){return e.editorReducer.subCtx})),x=Object(o.c)((function(e){return e.editorReducer.loading}));Object(r.useEffect)((function(){var r;if(t.current&&n.current&&(null===(r=e.current)||void 0===r?void 0:r.clientWidth)){c({width:e.current.offsetWidth,height:e.current.offsetHeight});var a=t.current.getContext("2d"),i=n.current.getContext("2d");s(a),u(i)}}),[]),Object(r.useEffect)((function(){var r;t.current&&n.current&&(null===(r=e.current)||void 0===r?void 0:r.clientWidth)&&(t.current.width=n.current.width=O.width,t.current.height=n.current.height=O.height)}),[O,x]);return Object(K.jsxs)("div",{className:pe.a.wrapper,ref:e,children:[Object(K.jsx)("canvas",{ref:n,className:pe.a.canvas}),Object(K.jsx)("canvas",{onMouseDown:function(t){var n,r;p&&(null===(n=e.current)||void 0===n?void 0:n.offsetLeft)&&i({x:t.clientX-(null===(r=e.current)||void 0===r?void 0:r.offsetLeft),y:t.clientY-104})},onMouseMove:function(n){if(m.x&&m.y&&e.current&&t.current)switch(g.strokeStyle=l,g.lineWidth=f,g.clearRect(0,0,t.current.width,t.current.height),p){case"rectangle":g.strokeRect(m.x,m.y,n.clientX-m.x-e.current.offsetLeft,n.clientY-m.y-104),g.stroke();break;case"circle":g.beginPath(),g.arc(m.x,m.y,Math.sqrt(Math.pow(n.clientX-m.x-e.current.offsetLeft,2)+Math.pow(n.clientY-m.y-104,2)),0,2*Math.PI,!0),g.stroke();break;case"line":g.beginPath(),g.moveTo(m.x,m.y),g.lineTo(n.clientX-e.current.offsetLeft,n.clientY-104),g.stroke();break;case"pencil":g.lineTo(n.clientX-e.current.offsetLeft,n.clientY-104),g.stroke()}},onMouseUp:function(e){h.drawImage(t.current,0,0),g.beginPath(),i({})},ref:t,className:pe.a.canvas}),Object(K.jsx)("div",{className:pe.a.progress_wrapper,children:x?Object(K.jsx)(ge.a,{color:"inherit"}):null})]})},xe=n(128),ve=n.n(xe),we=n(129),Ne=n.n(we),Ee=n(130),ye=n.n(Ee),ke=n(131),Ce=n.n(ke),Se=n(287),Ie=n(284),Pe=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return""},Re={fadeIn:{animation:"x 1s",animationName:V.a.keyframes(J.fadeIn,"fadeIn")}},De=function(){var e=Object(o.b)(),t=function(t){e(function(e){return{type:u,lineColor:e}}(t))},n=function(t){e(function(e){return{type:s,lineWeight:e}}(t))},r=function(t){e(function(e){return{type:l,instrumentName:e}}(t))},a=function(t){var n=JSON.parse(Pe("user")).email.split("@").slice(0,1).join();e(function(e,t){return{type:f,dataUrl:e,userName:t}}(t,n))},c=Object(o.c)((function(e){return e.editorReducer.instrumentName})),i=Object(o.c)((function(e){return e.editorReducer.subCtx})),d=function(e){return r(e)};return Object(K.jsx)(V.a.StyleRoot,{children:Object(K.jsxs)("div",{className:_e.a.wrapper,style:Re.fadeIn,children:[Object(K.jsxs)("div",{className:_e.a.buttons_navbar,children:[Object(K.jsx)("div",{className:"rectangle"===c?_e.a.button_checked:_e.a.button,onClick:function(){return d("rectangle")},children:Object(K.jsx)(ve.a,{})}),Object(K.jsx)("div",{className:"circle"===c?_e.a.button_checked:_e.a.button,onClick:function(){return d("circle")},children:Object(K.jsx)(Ne.a,{})}),Object(K.jsx)("div",{className:"line"===c?_e.a.button_checked:_e.a.button,onClick:function(){return d("line")},children:Object(K.jsx)(ye.a,{})}),Object(K.jsx)("div",{className:"pencil"===c?_e.a.button_checked:_e.a.button,onClick:function(){return d("pencil")},children:Object(K.jsx)(Ce.a,{})}),Object(K.jsxs)("div",{className:_e.a.size_slider,children:[Object(K.jsx)(Ie.a,{style:{fontSize:"0.6rem",margin:"0",color:"#969fa5"},id:"discrete-slider",gutterBottom:!0,children:"Line weight"}),Object(K.jsx)(Se.a,{onChange:function(e){return n(e.target.getAttribute("aria-valuetext"))},style:{padding:"0",color:"#969fa5"},defaultValue:0,getAriaValueText:function(e){return e},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:0,max:10})]}),Object(K.jsx)("input",{type:"color",onChange:function(e){return t(e.target.value)}}),Object(K.jsx)(B.a,{onClick:function(){a(i.canvas.toDataURL())},style:{background:"#969fa5",position:"absolute",right:"1%",height:"25px"},variant:"contained",children:"Upload"})]}),Object(K.jsx)(he,{})]})})},Le=n(30),Ae=n.n(Le),Te=function(e){return{type:S,payload:e}},Me=function(e){return{type:I,payload:e}},Ue=function(e){return{type:A,payload:e}},We=n(132),Fe=n.n(We),Ge={fadeIn:{animation:"x 1s",animationName:V.a.keyframes(J.fadeIn,"fadeIn")}},ze=function(e){e.signOut;var t=Object(o.b)(),n=Object(o.c)((function(e){return e.profileReducer.userName})),a=Object(o.c)((function(e){return e.profileReducer.imagesData})),c=Object(o.c)((function(e){return e.profileReducer.delCicked})),i=Object(o.c)((function(e){return e.profileReducer.idTodell})),s=Object(o.c)((function(e){return e.profileReducer.loading})),u=function(e){return t(function(e){return{type:R,id:e}}(e))},l=function(){return t({type:C})};return Object(r.useEffect)((function(){t({type:P}),l()}),[]),Object(K.jsx)(V.a.StyleRoot,{children:Object(K.jsxs)("div",{className:Ae.a.wrapper,style:Ge.fadeIn,children:[Object(K.jsxs)("div",{className:Ae.a.user_info,children:[Object(K.jsx)(re.a,{children:n.substr(0,1).toUpperCase()}),Object(K.jsx)("h3",{className:Ae.a.user_name,children:n})]}),Object(K.jsx)("div",{className:Ae.a.images_container,children:a.map((function(e,t){return Object(K.jsxs)("div",{className:Ae.a.image_wrapper,children:[Object(K.jsx)("div",{className:Ae.a.img_container,children:Object(K.jsx)("img",{className:Ae.a.img,src:e.imgUrl,alt:e.imgUrl})}),Object(K.jsx)("div",{className:Ae.a.delete_button,children:Object(K.jsx)(Fe.a,{onClick:function(){return u(e.id)},className:Ae.a.button_icon,fontSize:"large"})})]},t)}))}),c?Object(K.jsx)("div",{className:Ae.a.modal_window_background,children:Object(K.jsxs)("div",{className:Ae.a.modal_window,children:[Object(K.jsx)("p",{className:Ae.a.modal_window__text,children:"Are you really want to delete this image?"}),Object(K.jsxs)("div",{className:Ae.a.modal_window__buttonst_container,children:[Object(K.jsx)(B.a,{onClick:function(){return u(null)},variant:"contained",children:"No"}),Object(K.jsx)(B.a,{onClick:function(){return t({type:D,id:i,userName:n})},variant:"contained",color:"secondary",children:"Yes"})]}),s?Object(K.jsx)(ge.a,{className:Ae.a.progress,color:"inherit"}):null]})}):null]})})},Be=function(){Object(r.useEffect)((function(){t()}),[]);var e=Object(o.b)(),t=function(){e({type:E})},n=Object(o.c)((function(e){return e.authReducer.isLoged}));return Object(K.jsx)("div",{className:W.a.wrapper,children:n?Object(K.jsxs)("div",{children:[Object(K.jsx)(be,{}),Object(K.jsxs)($.c,{children:[Object(K.jsx)($.a,{path:"/editor",children:Object(K.jsx)(De,{})}),Object(K.jsx)($.a,{path:"/profile",children:Object(K.jsx)(ze,{})}),Object(K.jsx)($.a,{path:"/",children:Object(K.jsx)(ce,{})})]})]}):Object(K.jsx)($.a,{path:"/",children:Object(K.jsx)(Q,{})})})},He=(n(235),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,290)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))}),Xe=n(67),Ye=function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"},Je=function(e){return Ye(e,"",-1e3)},Ve={loading:!1,error:!1,isLoged:!1,errorMessage:null},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(G.a)(Object(G.a)({},e),{},{loading:!0,error:!1});case g:return Ye("user",JSON.stringify(t.payload.user),60),Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:!1,isLoged:!0});case h:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:!0,errorMessage:t.error.message});case x:return Object(G.a)(Object(G.a)({},e),{},{loading:!0,error:!1});case v:return Ye("user",JSON.stringify(t.payload.user),60),Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:!1,isLoged:!0});case w:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:!0,errorMessage:t.error.message});case N:return Je("user"),Object(G.a)(Object(G.a)({},e),{},{isLoged:!1});case E:return Pe("user")?Object(G.a)(Object(G.a)({},e),{},{isLoged:!0}):Object(G.a)(Object(G.a)({},e),{},{isLoged:!1});case y:return e.error?Object(G.a)(Object(G.a)({},e),{},{error:!1,errorMessage:null}):e;case k:return Object(G.a)(Object(G.a)({},e),{},{error:!0,errorMessage:t.error});default:return e}},Ke={lineColor:"#000",lineWeight:"1",instrumentName:"",canvasSize:{width:0,height:0},mouseDownPosition:{},mainCtx:{},subCtx:{},subCtxDataUrl:"",imgName:"",loading:!1,error:!1,successed:!1},Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return null!==t.lineWeight?Object(G.a)(Object(G.a)({},e),{},{lineWeight:t.lineWeight}):e;case u:return Object(G.a)(Object(G.a)({},e),{},{lineColor:t.lineColor});case l:return Object(G.a)(Object(G.a)({},e),{},{instrumentName:t.instrumentName});case d:return Object(G.a)(Object(G.a)({},e),{},{canvasSize:Object(G.a)(Object(G.a)({},e.canvasSize),{},{width:t.windowsSize.width,height:t.windowsSize.height})});case b:return Object(G.a)(Object(G.a)({},e),{},{mouseDownPosition:Object(G.a)(Object(G.a)({},e.mouseDownPosition),{},{x:t.mouseDownPosition.x,y:t.mouseDownPosition.y})});case j:return Object(G.a)(Object(G.a)({},e),{},{mainCtx:t.context});case _:return Object(G.a)(Object(G.a)({},e),{},{subCtx:t.context});case f:return Object(G.a)(Object(G.a)({},e),{},{subCtxDataUrl:t.dataUrl,loading:!0,error:!1,successed:!1});case p:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:!1,successed:!0});case O:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:!0,successed:!1});default:return e}},Qe={loading:!1,error:!1,successed:!1,imagesData:{}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(G.a)(Object(G.a)({},e),{},{loading:!0,error:!1,successed:!1});case S:var n={};return t.payload.forEach((function(e){n[e.userName]||(n[e.userName]=[]),n[e.userName].push(e.imgUrl)})),Object(G.a)(Object(G.a)({},e),{},{imagesData:n});case I:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,error:!0,successed:!1});default:return e}},et=n(133),tt=n(14),nt=n.n(tt),rt=n(55),at=n(16),ct=n(76),it=(n(237),n(242),n(241),{apiKey:"".concat("AIzaSyApar0IRJfh8xAjc1HSiI03nLexS_awh6E"),authDomain:"".concat("tets-8be4b.firebaseapp.com"),projectId:"".concat("tets-8be4b"),storageBucket:"".concat("tets-8be4b.appspot.com"),messagingSenderId:"".concat("670959739286"),appId:"".concat("1:670959739286:web:a97fd22ce32d8dd702bdb7")}),ot=(ct.a.initializeApp(it),ct.a.firestore()),st=ct.a.storage(),ut=st.ref(),lt=ct.a,dt=nt.a.mark(_t),bt=nt.a.mark(ft),jt=nt.a.mark(pt);function _t(e){var t,n;return nt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,lt.auth().createUserWithEmailAndPassword(t.email,t.password);case 4:return n=r.sent,r.next=7,Object(at.c)(T(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(at.c)((a=r.t0,{type:h,error:a}));case 13:case"end":return r.stop()}var a}),dt,null,[[1,9]])}function ft(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.d)(m,_t);case 2:case"end":return e.stop()}}),bt)}function pt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.a)([Object(at.b)(ft)]);case 2:case"end":return e.stop()}}),jt)}var Ot=nt.a.mark(ht),mt=nt.a.mark(xt),gt=nt.a.mark(vt);function ht(e){var t,n,r,a,c,i,o;return nt.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.dataUrl,n=e.userName,r=Date.now(),s.prev=2,a="library/".concat(n,"/photo:").concat(r),s.next=6,ut.child(a);case 6:return c=s.sent,s.next=9,c.putString(t,"data_url");case 9:return s.next=11,st.refFromURL("gs://".concat("tets-8be4b.appspot.com","/").concat(a)).getDownloadURL();case 11:return i=s.sent,s.next=14,ot.collection("images").doc(r.toString()).set({imgUrl:i,userName:n,id:r});case 14:return o=s.sent,s.next=17,Object(at.c)(Oe(o));case 17:s.next=23;break;case 19:return s.prev=19,s.t0=s.catch(2),s.next=23,Object(at.c)(me(s.t0));case 23:case"end":return s.stop()}}),Ot,null,[[2,19]])}function xt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.d)(f,ht);case 2:case"end":return e.stop()}}),mt)}function vt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.a)([Object(at.b)(xt)]);case 2:case"end":return e.stop()}}),gt)}var wt=nt.a.mark(yt),Nt=nt.a.mark(kt),Et=nt.a.mark(Ct);function yt(e){var t,n;return nt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.prev=1,r.next=4,lt.auth().signInWithEmailAndPassword(t.email,t.password);case 4:return n=r.sent,r.next=7,Object(at.c)(M(n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(at.c)((a=r.t0,{type:w,error:a}));case 13:case"end":return r.stop()}var a}),wt,null,[[1,9]])}function kt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.d)(x,yt);case 2:case"end":return e.stop()}}),Nt)}function Ct(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.a)([Object(at.b)(kt)]);case 2:case"end":return e.stop()}}),Et)}var St=nt.a.mark(Rt),It=nt.a.mark(Dt),Pt=nt.a.mark(Lt);function Rt(e){var t,n;return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,ot.collection("images").get();case 4:return n=e.sent,e.next=7,n.docs.map((function(e){return t.push(e.data())}));case 7:return e.next=9,Object(at.c)(ne(t));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),e.next=15,Object(at.c)((e.t0,{type:I}));case 15:case"end":return e.stop()}}),St,null,[[1,11]])}function Dt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.d)(C,Rt);case 2:case"end":return e.stop()}}),It)}function Lt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.a)([Object(at.b)(Dt)]);case 2:case"end":return e.stop()}}),Pt)}var At=nt.a.mark(Ft),Tt=nt.a.mark(Gt),Mt=nt.a.mark(zt),Ut=nt.a.mark(Bt),Wt=nt.a.mark(Ht);function Ft(e){var t,n;return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,ot.collection("images").get();case 4:return n=e.sent,e.next=7,n.docs.map((function(e){return t.push(e.data())}));case 7:return e.next=9,Object(at.c)(Te(t));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),e.next=15,Object(at.c)(Me(e.t0));case 15:case"end":return e.stop()}}),At,null,[[1,11]])}function Gt(e){var t,n,r,a;return nt.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.id,n=e.userName,c.prev=1,c.next=4,ot.collection("images").doc("".concat(t)).delete();case 4:return r="library/".concat(n,"/photo:").concat(t),c.next=7,ut.child(r);case 7:return a=c.sent,c.next=10,a.delete();case 10:return c.next=12,Object(at.c)({type:L});case 12:c.next=18;break;case 14:return c.prev=14,c.t0=c.catch(1),c.next=18,Object(at.c)(Ue(c.t0));case 18:case"end":return c.stop()}}),Tt,null,[[1,14]])}function zt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.d)(D,Gt);case 2:case"end":return e.stop()}}),Mt)}function Bt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.d)("GET_USER_IMAGES_FROM_DB",Ft);case 2:case"end":return e.stop()}}),Ut)}function Ht(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(at.a)([Object(at.b)(Bt),Object(at.b)(zt)]);case 2:case"end":return e.stop()}}),Wt)}var Xt=nt.a.mark(Yt);function Yt(){return nt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.a)([Object(rt.b)(pt),Object(rt.b)(Ct),Object(rt.b)(vt),Object(rt.b)(Lt),Object(rt.b)(Ht)]);case 2:case"end":return e.stop()}}),Xt)}var Jt={userName:"",loading:!1,error:!1,successed:!1,delCicked:!1,delConfurm:!1,imagesData:[],idTodell:null},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(G.a)(Object(G.a)({},e),{},{userName:JSON.parse(Pe("user")).email.split("@").slice(0,1).join()});case C:return Object(G.a)(Object(G.a)({},e),{},{loading:!0,error:!1,successed:!1,delCicked:!1});case S:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,imagesData:t.payload.filter((function(t){return t.userName===e.userName}))});case I:return Object(G.a)(Object(G.a)({},e),{},{loading:!1});case R:return Object(G.a)(Object(G.a)({},e),{},{delCicked:!e.delCicked,idTodell:t.id});case D:return Object(G.a)(Object(G.a)({},e),{},{loading:!0});case L:return console.log(e.idTodell,e.imagesData),Object(G.a)(Object(G.a)({},e),{},{imagesData:e.imagesData.filter((function(t){return t.id!==e.idTodell})),loading:!1,delCicked:!1,idToDel:null});case A:return Object(G.a)(Object(G.a)({},e),{},{loading:!1,delCicked:!1});default:return e}},qt=Object(et.a)(),Kt=Object(Xe.d)(Object(Xe.b)({authReducer:qe,editorReducer:Ze,homeReducer:$e,profileReducer:Vt}),Object(Xe.a)(qt));qt.run(Yt);var Zt=Kt;i.a.render(Object(K.jsx)(a.a.StrictMode,{children:Object(K.jsx)(o.a,{store:Zt,children:Object(K.jsx)(se.a,{children:Object(K.jsx)(Be,{})})})}),document.getElementById("root")),He()},30:function(e,t,n){e.exports={wrapper:"ProfilePage_wrapper__3nKpc",user_info:"ProfilePage_user_info__14ASp",images_container:"ProfilePage_images_container__101EQ",image_wrapper:"ProfilePage_image_wrapper__iazDD",img_container:"ProfilePage_img_container__S0AVg",img:"ProfilePage_img__362HR",delete_button:"ProfilePage_delete_button__2pqi1",button_icon:"ProfilePage_button_icon__CUrFV",modal_window_background:"ProfilePage_modal_window_background__qeBZr",modal_window:"ProfilePage_modal_window__39Vro",modal_window__text:"ProfilePage_modal_window__text__1eoCA",modal_window__buttonst_container:"ProfilePage_modal_window__buttonst_container__oNYFY",progress:"ProfilePage_progress__1TH8d"}},35:function(e,t,n){e.exports={wrapper:"EditorPage_wrapper__1yNpf",buttons_navbar:"EditorPage_buttons_navbar__2qChk",button:"EditorPage_button__1ZA6_",button_checked:"EditorPage_button_checked__2doLv",size_slider:"EditorPage_size_slider__Noz_k"}},37:function(e,t,n){e.exports={wrapper:"LoginPage_wrapper__RGKyY",form_wrapper:"LoginPage_form_wrapper__2QNl6",header:"LoginPage_header__1EujA",form:"LoginPage_form__i5E3_",button:"LoginPage_button__yfzhX",text:"LoginPage_text__3Sj_m",button__link:"LoginPage_button__link__lI9l4",alert:"LoginPage_alert__1Aawq"}},48:function(e,t,n){e.exports={user_name:"HomePage_user_name__3hRPX",container:"HomePage_container__1zSku",imgWrapper:"HomePage_imgWrapper__Y3AAN",img:"HomePage_img__2Prw0",name_container:"HomePage_name_container__1W1QX"}},49:function(e,t,n){e.exports={wrapper:"Navbar_wrapper__tyzxF",nav__link:"Navbar_nav__link__1k5yU",signOutButton:"Navbar_signOutButton__1CduN"}},75:function(e,t,n){e.exports={wrapper:"Canvas_wrapper__MRKLV",canvas:"Canvas_canvas__34r0f",progress_wrapper:"Canvas_progress_wrapper__2q4rb"}},99:function(e,t,n){}},[[240,1,2]]]);
//# sourceMappingURL=main.e394b5e4.chunk.js.map